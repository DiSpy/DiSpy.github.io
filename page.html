<html>

<head>
    <title>This is a page.</title>
 <!-- Set the style for the table -->
    <style> 
      
      th {
        color: #FFFFFF;
        background-color: #000000;
        font-weight: bold;
        text-align: center;
        border: 1px solid #000000;
        padding: 2px 2px;
      }
      
      table, trhead, tbdy, tbody, tr, td {
        color: #000000;
        background-color: white;
        border: 1px solid #000000;
        padding: 2px 2px;
      }
      
      table {
        width: 650px;
      }
    </style>
</head>

<body>
    <a href="javascript:history.back()">Go Back</a>
    <br />
    <br />
    <br />

<!-- This determines where the table will be displayed -->
    <br />
    <div id="showtablehere"></div>
    <br />

<!-- Here is the script to prettify the output -->
    <script>
        // begin config, change these values as needed
        fetchUrl = "https://qffj.expium.xyz/feed/tstllc.jira.com/312e34bf-7e99-471f-ac98-fbabf00df475?token=151380af-1f95-4594-abb9-8eb051b9d6b2"
        fields = ["Project_name", "Summary"];
        // end config

        // begin work, do not change below this line
        function tableCreate(data, fields) {
            var body = document.getElementsByTagName("body")[0];
            var tbl = document.createElement("table");
            var tbdy = document.createElement("tbody");
            var trhead = document.createElement("tr");

            // for each field we are grabbing from the objects
            // write a header column in the table
            for (let i = 0; i < fields.length; i++) {
                var fieldName = fields[i]
                var th = document.createElement("th");
                th.appendChild(document.createTextNode(fieldName));
                trhead.append(th);
            }
            tbdy.appendChild(trhead);

            // for each object in the data array
            for (let j = 0; j < data.length; j++) {
                // get a reference to the object
                var objData = data[j];

                // create a table row
                var tr = document.createElement("tr");

                // for each field we want to write
                for (let k = 0; k < fields.length; k++) {
                    // get a reference to the data for field fields[k]
                    var key = fields[k];
                    var value = objData[key];

                    // write the specified fields to the table row
                    var td = document.createElement("td");
                    td.appendChild(document.createTextNode(value));
                    tr.appendChild(td);
                }
                tbdy.appendChild(tr);
            }
            tbl.appendChild(tbdy);
            document.querySelector("#showtablehere").appendChild(tbl)
        }

        fetch(fetchUrl).then(
            function (u) { return u.json(); }
        ).then(
            function (json) {
                tableCreate(json.data, fields);
            }
        )
    </script>


</body>

</html>
